---
import Layout from '../../layouts/layout.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../../consts';
import { getCollection } from 'astro:content';
import FormattedDate from '../../components/FormattedDate.astro';

const tils = (await getCollection('til')).sort(
  (a, b) => b.data.date.valueOf() - a.data.date.valueOf(),
);
---

<Layout
  title="Huvik - Today I Learned"
  description="Welcome to my Today I Learned section, where I share a collection of notes on things I've recently learned or want to revisit in the future."
>
  <h1 class="text-2xl font-bold uppercase mb-4">Today I Learned</h1>
  <p class="mb-8">
    Welcome to my <b>Today I Learned</b> section, where I share a collection of notes
    on things I've recently learned or want to revisit in the future. This section
    is also a resource for others who may have similar questions - if there's something
    you've been wondering about, chances are I've covered it here. I hope this collection
    helps you learn and grow, just as it does for me.
  </p>
  {
    tils.map((til) => (
      <article class="w-full">
        <div class="flex justify-between items-center">
          <h2 class="text-xl font-bold mb-2">
            <a href={`/til/${til.id}`}>{til.data.title}</a>
          </h2>
          <p class="text-gray-500 text-sm">
            <FormattedDate date={til.data.date} />
          </p>
        </div>
        <p class="text-gray-700 mb-4">{til.data.description}</p>
      </article>
    ))
  }
</Layout>
